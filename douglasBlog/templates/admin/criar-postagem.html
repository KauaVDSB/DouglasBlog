{% extends 'base/html.html' %}

{% block link %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
{% endblock %}

{% block title %} Criar Postagem {% endblock %}

{% block content %}

<!-- Importando a biblioteca do CK Editor  -->
<script src="https://cdn.ckeditor.com/ckeditor5/38.0.0/classic/ckeditor.js"></script>

<div class="container">

    <div class="row mt-4">
        <h3>Editor de Postagem</h3>
    </div>
    <div class="row">

        <form action="" method="post" class="col-12 mt-4 p-4 rounded border shadow">
            
            {{ form.csrf_token }}
            
            {{ form.titulo.label() }}
            {{ form.titulo(class="form-control col-12 mb-3") }}
            
            {{ form.conteudo.label() }}
            {{ form.conteudo(class="form-control col-12 mt-3", id="conteudo", rows="10", cols="80" ) }}
            
            {{ form.btnSubmit(class="btn btn-primary col-12 mt-3") }}
            
        </form>
    </div>

    <a href="{{url_for('homepage')}}">Ver Postagens</a>
    <a href="">Deletar Postagens</a>
</div>




<script>
    // Aqui vamos criar o editor de texto com a identificacao de "conteudo"
    ClassicEditor.create(document.querySelector('#conteudo'), {
        // ckfinder: {
            // Neste arquivo vamos configurar o PHP que vai fazer o envio da imagem para a pasta "imagens/"
            // uploadUrl: 'upload_imagem.php'
        // },
        mediaEmbed: {
            // Faz com que videos e outras midias aparecam como previa dentro do editor
            previewsInData: true
        }
    }).catch(error => {
        // .catch e usado pra capturar qualquer erro que aconteca no codigo
        // "error =>" e a funcao que sera chamada se esse erro acontecer...
        // => significa "RECEBE", ou seja, a funcao vai receber o erro
        console.error(error); // Exibe o erro no console do navegador, se ocorrer algum problema
    });
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>


{% endblock %}